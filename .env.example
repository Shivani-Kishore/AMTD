# ============================================
# AMTD Environment Configuration
# ============================================
# Copy this file to .env and update with your values

# Environment
ENVIRONMENT=development  # development, staging, production

# ============================================
# Jenkins Configuration
# ============================================
JENKINS_ADMIN_USER=admin
JENKINS_ADMIN_PASSWORD=changeme_jenkins_password
JENKINS_URL=http://localhost:8080
JENKINS_API_TOKEN=your_jenkins_api_token_here

# ============================================
# Database Configuration (PostgreSQL)
# ============================================
DB_HOST=postgres
DB_PORT=5432
DB_NAME=amtd
DB_USER=amtd
DB_PASSWORD=changeme_db_password

# Database pool configuration
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=10
DB_POOL_TIMEOUT=30

# ============================================
# Object Storage (MinIO/S3)
# ============================================
MINIO_ENDPOINT=minio:9000
MINIO_ROOT_USER=admin
MINIO_ROOT_PASSWORD=changeme_minio_password
MINIO_BUCKET=amtd-reports
MINIO_SECURE=false  # Set to true for HTTPS

# For AWS S3 (alternative to MinIO)
# AWS_ACCESS_KEY_ID=your_aws_access_key
# AWS_SECRET_ACCESS_KEY=your_aws_secret_key
# AWS_REGION=us-east-1
# S3_BUCKET=amtd-reports

# ============================================
# Redis Configuration
# ============================================
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=

# ============================================
# Email Configuration (SMTP)
# ============================================
SMTP_ENABLED=false
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USE_TLS=true
SMTP_USERNAME=notifications@example.com
SMTP_PASSWORD=changeme_smtp_password
SMTP_FROM_EMAIL=amtd-security@example.com
SMTP_FROM_NAME=AMTD Security Scanner

# ============================================
# Slack Integration
# ============================================
SLACK_ENABLED=false
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/WEBHOOK/URL
SLACK_CHANNEL=#security-alerts
SLACK_USERNAME=AMTD Security Bot

# ============================================
# GitHub Integration
# ============================================
GITHUB_ENABLED=false
GITHUB_TOKEN=ghp_your_github_personal_access_token
GITHUB_WEBHOOK_SECRET=your_webhook_secret
GITHUB_OWNER=your-organization
GITHUB_REPO=your-repository

# ============================================
# GitLab Integration (Optional)
# ============================================
GITLAB_ENABLED=false
GITLAB_URL=https://gitlab.com
GITLAB_TOKEN=your_gitlab_token
GITLAB_PROJECT_ID=your_project_id

# ============================================
# Application Scan Credentials
# ============================================
# These are used for authenticated scanning
SCAN_USERNAME=test_user
SCAN_PASSWORD=test_password

# E-commerce app credentials
ECOMMERCE_SCAN_USER=scanner@example.com
ECOMMERCE_SCAN_PASS=scanner_password

# API credentials
INTERNAL_API_KEY=your_internal_api_key
EXTERNAL_API_KEY=your_external_api_key

# ============================================
# Security Configuration
# ============================================
# JWT Secret for API authentication
JWT_SECRET_KEY=changeme_super_secret_jwt_key_min_32_chars
JWT_EXPIRATION_HOURS=24

# API Rate Limiting
ENABLE_RATE_LIMITING=true
RATE_LIMIT_REQUESTS_PER_MINUTE=60

# Encryption key for sensitive data
ENCRYPTION_KEY=changeme_32_byte_encryption_key_here

# ============================================
# Scanning Configuration
# ============================================
# Maximum concurrent scans
MAX_CONCURRENT_SCANS=5

# Default scan timeout (seconds)
DEFAULT_SCAN_TIMEOUT=7200

# ZAP Docker image
ZAP_IMAGE=ghcr.io/zaproxy/zaproxy:stable
ZAP_VERSION=2.14.0

# Scan result retention (days)
SCAN_RETENTION_DAYS=90

# ============================================
# Monitoring & Logging
# ============================================
# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO
LOG_FORMAT=json  # json or text

# Prometheus
PROMETHEUS_ENABLED=true
PROMETHEUS_PORT=9090

# Grafana
GRAFANA_USER=admin
GRAFANA_PASSWORD=changeme_grafana_password

# ============================================
# Application Settings
# ============================================
# Flask
FLASK_APP=src/api/app.py
FLASK_ENV=development
FLASK_DEBUG=false
SECRET_KEY=changeme_flask_secret_key_min_32_chars

# API Server
API_HOST=0.0.0.0
API_PORT=5000
API_WORKERS=4

# ============================================
# Celery (Task Queue)
# ============================================
CELERY_BROKER_URL=redis://redis:6379/0
CELERY_RESULT_BACKEND=redis://redis:6379/0
CELERY_TASK_SERIALIZER=json
CELERY_RESULT_SERIALIZER=json

# ============================================
# Compliance & Reporting
# ============================================
# Organization details for reports
ORG_NAME=Your Organization
ORG_LOGO_URL=https://example.com/logo.png
ORG_CONTACT_EMAIL=security@example.com

# Report retention
REPORT_RETENTION_DAYS=365

# ============================================
# Development & Testing
# ============================================
# Test database (for running tests)
TEST_DB_NAME=amtd_test

# Debug mode
DEBUG_MODE=false

# Disable SSL verification (dev only!)
DISABLE_SSL_VERIFY=false

# ============================================
# Advanced Settings
# ============================================
# Worker thread count
WORKER_THREADS=4

# Request timeout (seconds)
REQUEST_TIMEOUT=30

# Max upload size (MB)
MAX_UPLOAD_SIZE=100

# Timezone
TIMEZONE=UTC

# ============================================
# Feature Flags
# ============================================
FEATURE_DASHBOARD=true
FEATURE_API=true
FEATURE_GITHUB_INTEGRATION=true
FEATURE_SLACK_INTEGRATION=true
FEATURE_COMPLIANCE_REPORTS=true

# ============================================
# External Services
# ============================================
# Webhook URLs
WEBHOOK_URL=https://your-webhook-endpoint.com/amtd

# SIEM Integration
SIEM_ENABLED=false
SIEM_ENDPOINT=https://siem.example.com/api/events
SIEM_API_KEY=your_siem_api_key
